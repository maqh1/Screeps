{"version":3,"file":"main.js","sources":["../src/config.js","../src/method.js","../src/main.js"],"sourcesContent":["const config = {\r\n    maxHarvesters: 5,\r\n    maxBuilders: 3,\r\n    maxUpgraders: 5,\r\n    spawnName: `maqh`\r\n};\r\n\r\nexport {config};","import { config } from './config';\r\n\r\nvar Method = {\r\n    create: function (name, fn, body) {\r\n        var newName = name + Game.time;\r\n        Game.spawns[config.spawnName].spawnCreep(body, newName, { memory: { role: fn } });\r\n    },\r\n    check_and_create: function () {\r\n        var harvesters = _.filter(Game.creeps, (creep) => creep.memory.role == 'harvester');\r\n        var builders = _.filter(Game.creeps, (creep) => creep.memory.role == 'builder');\r\n        var upgraders = _.filter(Game.creeps, (creep) => creep.memory.role == 'upgrader');\r\n        var energyAvailable = Game.spawns[config.spawnName].room.energyAvailable;\r\n        if (harvesters.length < config.maxHarvesters && energyAvailable >= 200) {\r\n            create('Harvester', 'harvester', [WORK, CARRY, MOVE]);\r\n        } else if (builders.length < config.maxBuilders && energyAvailable >= 200) {\r\n            create('Builder', 'builder', [WORK, CARRY, MOVE]);\r\n        } else if (upgraders.length < config.maxUpgraders && energyAvailable >= 200) {\r\n            create('Upgrader', 'upgrader', [WORK, CARRY, MOVE]);\r\n        }\r\n    },\r\n    remove_dead: function () {\r\n        for (var name in Memory.creeps) {\r\n            if (!Game.creeps[name]) {\r\n                delete Memory.creeps[name];\r\n            }\r\n        }\r\n    },\r\n    run: function () {\r\n        for (var name in Game.creeps) {\r\n            var creep = Game.creeps[name];\r\n            if (creep.memory.role == 'harvester') {\r\n                roleHarvester.run(creep, config.spawnName);\r\n            }\r\n            if (creep.memory.role == 'builder') {\r\n                roleBuilder.run(creep);\r\n            }\r\n            if (creep.memory.role == 'upgrader') {\r\n                roleUpgrader.run(creep);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport { Method };","import { Method } from './method';\r\n\r\nexport const loop  = function () {\r\n    Method.remove_dead();\r\n    Method.check_and_create();\r\n    Method.run();\r\n}\r\n"],"names":[],"mappings":"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"}